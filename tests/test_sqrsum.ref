/* 
 Программа вычисляет сумму квадратов чисел от 1 до e.x
 При этом e.x записано в унарной системе счисления, как N символов 'I'.
 Функции умножения и сложения реализованы через ассоциативное приписывание.
 Тест на развертку вызовов на одном стековом уровне.
*/

$ENTRY Go {
  e.x = <Sq e.x>;
}

Sq {
        = ;
'I' e.x = <Add1 (<Mul1 ('I' e.x) 'I' e.x>) <Sq e.x>>;
}

Mul1 {
 () e.y = ;
 ('I'e.x) e.y = e.y <Mul1 (e.x) e.y>;
}

Add1 {
 (e.x) e.y = e.x e.y;
}
