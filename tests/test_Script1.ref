
/*
 Тест некорректной процедуры аудита.

 Процедура аудита заменяет все вхождения в строку подстроки 'script' на пустое слово.
 Требуется проверить корректность данной процедуры аудита: а именно, что после нее в строке не будет подстроки '<script'.
 Функция ReplaceIp осуществляет указанную подстановку, функция Check проверяет условие корректности.
  
 По остаточной программе можно восстановить случаи, когда аудит некорректен.
*/


/***********************************************/
/*          исходная программа                 */
/***********************************************/

$ENTRY Go {
   e.p = <Check <Delscript e.p>>;
}

Delscript {
    e.1 'script' e.2 = e.1 <Delscript e.2>;
    e.Other = e.Other;
}

Check {
    = 'T';
    '<script'e.2 = 'F';
    t.1 e.Z = <Check e.Z>;
}

/***********************************************/
/*          остаточная программа               */
/***********************************************/

/*

$ENTRY Go {
 e.1 =  <Check_0 () (e.1)>;
}


Check_0 {
 (e.1) (e.2 'script' e.3) =  <Check_0 (e.1 e.2) (e.3)>;
 (e.1) (e.2) =  <Check_123_0 (e.1) (e.2)>;
}


Check_123_0 {
 () () =  'T';
 ('<script' e.1) (e.2) =  'F';
 ('<scrip') ('t' e.1) =  'F';
 ('<scri') ('pt' e.1) =  'F';
 ('<scr') ('ipt' e.1) =  'F';
 ('<sc') ('ript' e.1) =  'F';
 ('<s') ('cript' e.1) =  'F';
 (t.1 e.1) (e.2) =  <Check_123_0 (e.1) (e.2)>;
 () (t.1 e.1) =  <Check_13_0 e.1>;
}


Check_13_0 {
 =  'T';
 t.1 e.1 =  <Check_13_0 e.1>;
}

*/
