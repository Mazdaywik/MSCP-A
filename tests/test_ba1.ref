/*
 Проверка, содержит ли порождаемая алгоритмом замены всех термов на 'A'
 в конце букву 'B'. Алгоритм замены работает с начала строки.
 Простой тест на порождение обобщением уравнений.
*/

/***********************************************/
/*          исходная программа                 */
/***********************************************/
$ENTRY Go {
	e.x = <Check <F e.x>>;
}

F {
	 = ;
	t.x e.1 = 'A' <F e.1>;
}

Check {
	e.1 'B' = 'F';
	e.Z = 'T';
}

/***********************************************/
/*          остаточная программа               */
/***********************************************/

/*
$ENTRY Go {
 e.1 =  <Check_0 () (e.1)>;
}


Check_0 {
 (e.1) () =  'T';
 (e.1) (t.1 e.2) =  <Check_0 (e.1 'A') (e.2)>;
}
*/

/*
 В процессе развертки функции F порождается уравнение на слово w, которое она передает функции Check.
 А именно, это уравнение 'A'w = w'A'. После подстановки сужения на w вида w=v'B' в это уравнение множество его
 корней становится пустым. Поэтому ветвь функции Check, возвращающая 'F', отсекается.
*/
